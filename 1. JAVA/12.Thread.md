

# JAVA
___________________________________________________________________________________________________________________________________________________________________________________
### Thread 쓰레드

##### 프로세스

	- 프로세스(Process)란
	간단한 의미로 실행중인 프로그램.
	프로세스는 하나의 프로그램이 실행 될 때 마다 개별적으로 생성
	하나의 프로세스는 프로그램을 수행함에 있어 필요한 데이터와 메모리 등의 할당 받은 자원
	그리고 하나 이상의 쓰레드로 구성된다.
	
##### 쓰레드

	- 쓰레드(Thread)란
	프로세스 내에서 할당된 자원을 이용해 실제 작업을 수행하는 작업 단위
	모든 프로세스는 하나 이상의 쓰레드를 가지며 각각 독립적인 작업 단위를 가짐
	
	- 메인 쓰레드
	모든 자바 프로그램은 메인 쓰레드 main()메소드를 실행하며 시작
	main()메소드의 첫 코드부터 아래로 순차적으로 실행하고 return 만나면 종료
	
	- 프로세스 종료
	싱글 쓰레드의 경우 메인 쓰레드가 종료되면 프로세스도 종료되지만, 
	멀티 쓰레드의 경우 실행중인 쓰레드가 하나라도 있다면 프로세스가 종료되지 않음
	
##### 멀티 프로세스, 멀티 쓰레드

	- 멀티 프로세스
	각각의 프로세스를 독립적으로 실행하는 것
	
	- 멀티 쓰레드
	하나의 프로세스 내에서 여러 쓰레드가 동시에 작업을 수행하는 것
	
##### 싱글 쓰레드, 멀티 쓰레드

	- 싱글 쓰레드
	메인 쓰레드 하나만 가지고 작업을 처리
	-> 한 작업씩 차례대로 처리해 나감
	
	- 멀티 쓰레드
	메인 쓰레드 외의 추가적인 쓰레드를 이용하여 병렬적으로 작업을 처리	
	
	- 멀티 쓰레드 장점
	1. 자원을 보다 효율적으로 사용 가능
	2. 사용자의 대한 응답성 향상
	3. 애플리케이션으 응답성 향상
	4. 작업이 분리되어 코드가 간결해짐
	5. CPU 사용률 향상
	
	- 멀티 쓰레드 단점
	1. 동기화(Synchronization)에 주의해야 함
	2. 교착상(dead-lock)이 발생하지 않도록 주의해야 함
	3. 프로그래밍 시 고려해야 할 사항 많음
	
##### 쓰레드 생성 및 실행

	- 생성
	Runnable 인터페이스를 이용하여 구현
	
	- 실행
	1. main()메소드에 run()호출
![런메소드](/images/런메소드.PNG)

	2. main()메소드에 start()호출
![스타트메소드](/images/스타트메소드.PNG)

##### 쓰레드 스케쥴링

	쓰레드 개수가 코어의 수보다 많을 경우 쓰레드를 어떤 순서로 동시성을 실행할
	것인가를 결정하는 것. 스케쥴링에 의해 쓰레드들은 번갈아가면 run()메소드를
	조금씩 실행
![스케쥴링](/images/스케쥴링.PNG)

##### 자바 쓰레드 스케쥴링 방식

	1. 우선 순위 방식(Priority)
	- 우선 순위가 높은 쓰레드가 작업 시간을 더 많이 가지도록 하는 스케쥴링 방식
	- 쓰레드에 1~10까징 우선 순위 번호 부여 가능(번호가 높을수록 우선순위가 높음)
	- 쓰레드 생성 시 우선 순위 기본값은 5
	ex) Person p = new Person();
		 p.setPriority(1~10);
		 
	2. 순환 할당 방식(Round-Robin)
	- 시간 할당량(Tile Slice)를 정하여 하나의 쓰레드를 정해진 시간만큼
	실행시키는 방식
	- JVM에 의해 정해짐(코드로 제어 불가)
	
##### 쓰레드 컨트롤

	실행중인 쓰레드의 상태를 제어하기 위한 것
	효율적이고 정교한 스케쥴링을 위한 쓰레드 상태를 제어하는 기능
![쓰레드컨트롤](/images/쓰레드컨트롤.PNG)

##### 동기화(Synchronized)

	한번에 한 개의 쓰레드만 프로세스 공유 자원(객체)에 접근할 수 있도록 락(Lock)을
	걸어 다른 쓰레드가 진행중인 작업에 간섭하지 못하도록 하는 것
![동기화](/images/동기화.PNG)

##### 데몬 쓰레드

	- 다른 쓰레드의 작업을 돕는 보조적인 역할을 수행하는 쓰레드
	- 데몬 스레드 이외의 쓰레드들이 모두 종료되면 데몬 쓰레드는 강제적으로 종료
	
	* 생성
	- 데몬 쓰레드가 될 쓰레드의 레퍼런스 변수에 setDaemon(true)를 호출
	- 단, start()메소드 호출 전에 setDaemon(true)를 호출해야 함
	-> illegalThreadStateException이 발생


	
